<!--
  Generated template for the PestsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Pests</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div class="table-responsive">
    <table class="table">
      <thead>
      <tr>

        <th>
          #
        </th>

        <th
          icon-only
          tooltip="Toggle to sort by name"
          duration="1000"
          positionH="right"
          arrow>
          Name
          <!--<ion-icon-->
          <!--[name]="(eT==undefined)?'code':(eT==true)?'arrow-dropup':'arrow-dropdown'"-->
          <!--class="float-right"-->
          <!--(click)="sort.exporter()">-->
          <!--</ion-icon>-->
        </th>

        <th>
          Photo
        </th>

        <th
          icon-only
          tooltip="Toggle to sort by category"
          duration="1000"
          positionH="right"
          arrow>
          Cause
          <!--<ion-icon-->
          <!--[name]="(qT==undefined)?'code':(qT==true)?'arrow-dropup ':'arrow-dropdown'"-->
          <!--class="float-right"-->
          <!--(click)="sort.quantity()">-->
          <!--</ion-icon>-->
        </th>

        <th>
          Crop
        </th>

        <th>
          Control
        </th>

        <th>Actions
          <!--<ion-icon-->
          <!--class="ion-ios-funnel float-right"-->
          <!--(click)="filters=!filters"-->
          <!--tooltip="Toggle to filter"-->
          <!--positionH="left"-->
          <!--arrow-->
          <!--duration="1000">-->
          <!--</ion-icon>-->
        </th>
      </tr>

      <tr *ngIf="filters">
        <th></th>
        <th>
          <ion-item>
            <ion-label floating>Name</ion-label>
            <ion-input type="text"></ion-input>
          </ion-item>
        </th>
        <th>
        </th>
        <th>
        </th>
        <th></th>
        <th></th>
        <th>
          <ion-item>
            <ion-label floating>Crop</ion-label>
            <ion-input type="text"></ion-input>
          </ion-item>
        </th>
        <th>
        </th>
        <th>
        </th>

        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let pest of pestsData; let i = index">
        <td>{{(itemsPerPage*(bigCurrentPage-1))+(i+1)}}</td>
        <td text-capitalize text-wrap text-justify>{{pest?.name}}</td>
        <td>
          <ion-img [src]="pest?.photo_url" style="width: 100px; height: 67px;"></ion-img>
        </td>
        <td text-capitalize>{{pest?.cause}}</td>
        <td text-capitalize>{{pest?.crop}}</td>
        <td text-wrap text-justify>{{pest?.control}}</td>
        <td>
          <div class="btn-group">
            <button  icon-only color="primary" ion-button (click)="viewPests(pest)" >
              <ion-icon name="ios-eye"></ion-icon>
            </button>
            <button  icon-only color="secondary" ion-button >
              <ion-icon name="ios-brush"></ion-icon>
            </button>
            <button  icon-only color="danger" ion-button (click)="deletePest(pest)">
              <ion-icon name="md-close"></ion-icon>
            </button>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="col-md-6">
    <pagination
      previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;"
      [totalItems]="bigTotalItems" [(ngModel)]="bigCurrentPage" [maxSize]="maxSize" [itemsPerPage]="itemsPerPage"
      class="pagination-sm"
      [boundaryLinks]="true" [rotate]="false" (pageChanged)="pageChanged($event)"></pagination>
  </div>

  <ion-fab right bottom>
    <button ion-fab color="dark" (click)="addPest()"><ion-icon name="add"></ion-icon></button>
  </ion-fab>
</ion-content>
