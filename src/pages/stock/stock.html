<!--
  Generated template for the StockPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Stock</ion-title>
  </ion-navbar>
  <ion-toolbar no-border-top color="primary">
    <ion-segment [(ngModel)]="pages" color="light">
      <ion-segment-button value="stock">
        Stock
      </ion-segment-button>
      <ion-segment-button value="crops">
        Crops
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>


<ion-content padding>
  <div [ngSwitch]="pages">
    <div *ngSwitchCase="'stock'">
      <div class="table-responsive">
        <table class="table">
          <thead>
          <tr>

            <th>
              #
            </th>

            <th
              icon-only
              tooltip="Toggle to sort by name"
              duration="1000"
              positionH="right"
              arrow>
              Name
              <ion-icon
                [name]="(eT==undefined)?'code':(eT==true)?'arrow-dropup':'arrow-dropdown'"
                class="float-right"
                (click)="sort.exporter()">
              </ion-icon>
            </th>

            <th
              icon-only tooltip="Toggle to sort by crop"
              duration="1000"
              positionH="right"
              arrow>
              Crops
              <ion-icon
                [name]="(cT==undefined)?'code':(cT==true)?'arrow-dropup ':'arrow-dropdown'"
                class="float-right"
                (click)="sort.crop()">
              </ion-icon>
            </th>

            <th
              icon-only
              tooltip="Toggle to sort by category"
              duration="1000"
              positionH="right"
              arrow>
              Category
              <ion-icon
                [name]="(qT==undefined)?'code':(qT==true)?'arrow-dropup ':'arrow-dropdown'"
                class="float-right"
                (click)="sort.quantity()">
              </ion-icon>
            </th>

            <th>
              Image
            </th>

            <th
              icon-only
              tooltip="Toggle to sort by unit price"
              duration="1000"
              positionH="right"
              arrow>
              Unit Price
              <ion-icon
                [name]="(aT==undefined)?'code':(aT==true)?'arrow-dropup':'arrow-dropdown'"
                class="float-right"
                (click)="sort.available()">
              </ion-icon>
            </th>

            <th
              icon-only
              tooltip="Toggle to sort by unit"
              duration="1000"
              positionH="right"
              arrow>
              Unit
              <ion-icon
                [name]="(aT==undefined)?'code':(aT==true)?'arrow-dropup':'arrow-dropdown'"
                class="float-right"
                (click)="sort.available()">
              </ion-icon>
            </th>

            <th
              icon-only
              tooltip="Toggle to sort by quantity"
              duration="1000"
              positionH="right"
              arrow>
              Quantity
              <ion-icon
                [name]="(aT==undefined)?'code':(aT==true)?'arrow-dropup':'arrow-dropdown'"
                class="float-right"
                (click)="sort.available()">
              </ion-icon>
            </th>

            <th
              icon-only
              tooltip="Toggle to sort by supplier"
              duration="1000"
              positionH="left"
              arrow>
              Supplier
              <ion-icon
                [name]="(aT==undefined)?'code':(aT==true)?'arrow-dropup':'arrow-dropdown'"
                class="float-right"
                (click)="sort.available()">
              </ion-icon>
            </th>

            <th>Actions
              <ion-icon
                class="ion-ios-funnel float-right"
                (click)="filters=!filters"
                tooltip="Toggle to filter"
                positionH="left"
                arrow
                duration="1000">
              </ion-icon>
            </th>
          </tr>

          <tr *ngIf="filters">
            <th></th>
            <th>
              <ion-item>
                <ion-label floating>Name</ion-label>
                <ion-input type="text"></ion-input>
              </ion-item>
            </th>
            <th>
              <ion-item>
                <ion-label floating>Crops</ion-label>
                <ion-input type="text"></ion-input>
              </ion-item>
            </th>
            <th>
              <ion-item>
                <ion-label floating>Category</ion-label>
                <ion-input type="text"></ion-input>
              </ion-item>
            </th>
            <th></th>
            <th>
              <ion-item>
                <ion-label floating>Unit Price</ion-label>
                <ion-input type="text"></ion-input>
              </ion-item>
            </th>
            <th></th>
            <th>
              <ion-item>
                <ion-label floating>Quantity Available</ion-label>
                <ion-input type="text"></ion-input>
              </ion-item>
            </th>
            <th>
              <ion-item>
                <ion-label floating>Supplier</ion-label>
                <ion-input type="text"></ion-input>
              </ion-item>
            </th>
            <th></th>
            <th></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let input of inputsData; let i = index">
            <td>{{(itemsPerPage*(bigCurrentPage-1))+(i+1)}}</td>
            <td text-capitalize>{{input.name}}</td>
            <td>
              <div *ngFor="let c of input.crops" text-capitalize>{{c}}</div>
            </td>
            <td text-capitalize>{{input.category}}</td>
            <td>
              <ion-img [src]="input.photo_url" style="width: 100px; height: 67px;"></ion-img>
            </td>
            <td>{{input.price}}</td>
            <td text-capitalize>{{input.unit}}</td>
            <td>{{input.quantity}}</td>
            <td text-capitalize>{{input.supplier}}</td>
            <td>
              <div class="btn-group">
                <button icon-only color="secondary" ion-button tooltip="Edit" positionV="top" arrow duration="500">
                  <ion-icon class="ion-ios-brush"></ion-icon>
                </button>
                <button icon-only color="danger" ion-button tooltip="Delete" positionV="top" arrow duration="500">
                  <ion-icon class="ion-md-close"></ion-icon>
                </button>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <div class="col-md-6">
        <pagination
          previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;"
          [totalItems]="bigTotalItems" [(ngModel)]="bigCurrentPage" [maxSize]="maxSize" [itemsPerPage]="itemsPerPage"
          class="pagination-sm"
          [boundaryLinks]="true" [rotate]="false" (pageChanged)="pageChanged($event)"></pagination>
      </div>
    </div>

    <div *ngSwitchCase="'crops'">
      <div class="table-responsive">
        <table class="table">
          <thead>
          <tr>
            <th>#</th>
            <th
              icon-only
              tooltip="Toggle to sort by crop"
              duration="1000"
              positionH="right"
              arrow>Crop<ion-icon
              [name]="(aT==undefined)?'code':(aT==true)?'arrow-dropup':'arrow-dropdown'"
              class="float-right"
              (click)="sort.available()"></ion-icon></th>
            <th>Photo</th>
            <th>Actions
              <ion-icon
                class="ion-ios-funnel float-right"
                (click)="filters=!filters"
                tooltip="Toggle to filter"
                positionH="left"
                arrow>
              </ion-icon>
            </th>
          </tr>
          <tr *ngIf="filters">
            <th></th>
            <th>
              <ion-item>
                <ion-label floating>Crop</ion-label>
                <ion-input type="text"></ion-input>
              </ion-item>
            </th>
            <th>
            </th>
            <th>

            </th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let crop of cropsData; let i = index">
            <td>{{(itemsPerPage*(bigCurrentPageCrop-1))+(i+1)}}</td>
            <td text-capitalize>{{crop.crop}}</td>
            <td>
              <ion-img [src]="crop.photo_url" style="width: 100px; height: 67px;"></ion-img>
            </td>
            <td>
              <div class="btn-group">
                <button icon-only color="secondary" ion-button tooltip="Edit" positionV="top" arrow duration="500">
                  <ion-icon class="ion-ios-brush"></ion-icon>
                </button>
                <button icon-only color="danger" ion-button tooltip="Delete" positionV="top" arrow duration="500">
                  <ion-icon class="ion-md-close"></ion-icon>
                </button>
                <!--<button icon-only color="secondary" ion-button tooltip="Complete" placement="top">
                  <ion-icon  class="ion-md-done-all"></ion-icon>
                </button>-->
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <div class="col-md-6">
        <pagination
          previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;"
          [totalItems]="bigTotalItemsCrop" [(ngModel)]="bigCurrentPageCrop" [maxSize]="maxSize"
          [itemsPerPage]="itemsPerPage"
          class="pagination-sm"
          [boundaryLinks]="true" [rotate]="false" (pageChanged)="pageChangedCrops($event)"></pagination>
      </div>

    </div>

    <!--  <div *ngSwitchCase="'videos'">
      </div>-->
  </div>
  <ion-fab right bottom>
    <button ion-fab color="purple-dark"><ion-icon name="add"></ion-icon></button>
    <ion-fab-list side="top">
      <button ion-fab color="maroon-dark"
      tooltip="Add Stock"
              (click)="addStock()"
              positionH="left"
              duration="500"
              arrow
      ><ion-icon name="md-basket"></ion-icon></button>
      <button ion-fab color="yellow-light"
              (click)="addCrop()"
              tooltip="Add Crop"
              positionH="left"
              duration="500"
              arrow><ion-icon name="md-leaf"></ion-icon></button>
    </ion-fab-list>
  </ion-fab>
</ion-content>
